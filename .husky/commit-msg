COMMIT_MSG_FILE=$1

echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo "ğŸ” ì»¤ë°‹ ë©”ì‹œì§€ ê²€ì‚¬ ì‹œì‘"
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"

# ì»¤ë°‹ ë©”ì‹œì§€ ë‚´ìš© í‘œì‹œ
echo ""
echo "ğŸ“ ì»¤ë°‹ ë©”ì‹œì§€:"
cat "$COMMIT_MSG_FILE"
echo ""

# commitlint ì‹¤í–‰í•˜ê³  ì¶œë ¥ê³¼ ì¢…ë£Œ ì½”ë“œ ì €ì¥
LINT_OUTPUT=$(npx --no -- commitlint --edit "$COMMIT_MSG_FILE" 2>&1)
RESULT=$?

# commitlint ì¶œë ¥ë„ í•¨ê»˜ í‘œì‹œ
echo "$LINT_OUTPUT"

if [ $RESULT -eq 0 ]; then
  echo "âœ… ì»¤ë°‹ ë©”ì‹œì§€ê°€ ê·œì¹™ì— ë§ìŠµë‹ˆë‹¤!"
else
  echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
  echo "âŒ ì»¤ë°‹ ë©”ì‹œì§€ê°€ ê·œì¹™ì— ë§ì§€ ì•ŠìŠµë‹ˆë‹¤."
  echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
  echo "ğŸ’¡ í˜•ì‹ ì˜ˆì‹œ: feat(ui): ë¡œê·¸ì¸ ë²„íŠ¼ ì¶”ê°€"
  echo "ğŸš¨ ì‚¬ìš© ê°€ëŠ¥í•œ íƒ€ì…:"
  echo "feat, fix, docs, style, refactor, perf, test, build, ci, chore, revert"
  echo ""
  echo "ğŸ”‘ ì‚¬ìš© ê°€ëŠ¥í•œ ë²”ìœ„:"
  echo "setup, bug, ui, page, components, hooks, lib, docs, api, styles, config, deps, auth, db, middleware, layout, route, public, feature, store, test, ci, other"
  echo ""
  echo "â— ì»¤ë°‹ ë©”ì‹œì§€ë¥¼ ìˆ˜ì •í•˜ê³  ë‹¤ì‹œ ì‹œë„í•´ ì£¼ì„¸ìš”."
  echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
fi

exit $RESULT